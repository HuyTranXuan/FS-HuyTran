{"version":3,"sources":["backEndServices.js","App.js","index.js"],"names":["baseUrl","result","getAll","axios","get","then","r","data","create","newObject","post","remove","id","delete","update","put","Persons","persons","searchQuerry","setPersons","filter","p","name","toLowerCase","includes","map","number","handleClick","window","confirm","backEndServices","person","text","Button","props","onClick","Filter","handlesearchQuerry","value","onChange","PersonForm","newName","handleNameChange","newNum","handleNumChange","addPerson","onSubmit","type","Notification","message","notification","color","fontStyle","fontSize","backgroundColor","borderRadius","padding","margin","marginLeft","warning","style","App","useState","setNewName","setNewNum","setSearchQuerry","setMessage","useEffect","event","target","preventDefault","foundTarget","find","alert","newPerson","console","log","setTimeout","catch","error","response","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fb72e838.chunk.js","sourcesContent":["import axios from \"axios\";\r\n// const baseUrl = \"https://stormy-lowlands-82686.herokuapp.com/api/persons\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n\tconst request = axios.get(baseUrl);\r\n\treturn request.then((r) => r.data);\r\n};\r\nconst create = (newObject) => {\r\n\tconst request = axios.post(baseUrl, newObject);\r\n\treturn request.then((r) => r.data);\r\n};\r\nconst remove = (id) => {\r\n\tconst request = axios.delete(`${baseUrl}/${id}`);\r\n\treturn request.then((r) => r.data);\r\n};\r\nconst update = (id, newObject) => {\r\n\tconst request = axios.put(`${baseUrl}/${id}`, newObject);\r\n\treturn request.then((r) => r.data);\r\n};\r\nconst result = { getAll, create, remove, update };\r\nexport default result;\r\n","import React, { useState, useEffect } from \"react\";\nimport backEndServices from \"./backEndServices.js\";\n\nconst Persons = ({ persons, searchQuerry, setPersons }) => (\n\t<div>\n\t\t{persons\n\t\t\t.filter((p) => p.name.toLowerCase().includes(searchQuerry.toLowerCase()))\n\t\t\t.map((p) => (\n\t\t\t\t<li key={p.id}>\n\t\t\t\t\t{p.name} {p.number}{\" \"}\n\t\t\t\t\t<Button\n\t\t\t\t\t\thandleClick={() => {\n\t\t\t\t\t\t\tif (window.confirm(`Delete ${p.name} ?`)) {\n\t\t\t\t\t\t\t\tbackEndServices.remove(p.id);\n\t\t\t\t\t\t\t\tsetPersons(persons.filter((person) => person.id !== p.id));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ttext=\"Delete\"\n\t\t\t\t\t/>\n\t\t\t\t</li>\n\t\t\t))}\n\t</div>\n);\nconst Button = (props) => (\n\t<button onClick={props.handleClick}>{props.text}</button>\n);\nconst Filter = ({ searchQuerry, handlesearchQuerry }) => (\n\t<div>\n\t\tfilter shown with:\n\t\t<input value={searchQuerry} onChange={handlesearchQuerry} />\n\t</div>\n);\nconst PersonForm = ({\n\tnewName,\n\thandleNameChange,\n\tnewNum,\n\thandleNumChange,\n\taddPerson,\n}) => (\n\t<form onSubmit={addPerson}>\n\t\t<div>\n\t\t\tname: <input value={newName} onChange={handleNameChange} />\n\t\t</div>\n\t\t<div>\n\t\t\tnumber: <input value={newNum} onChange={handleNumChange} />\n\t\t</div>\n\t\t<div>\n\t\t\t<button type=\"submit\">add</button>\n\t\t</div>\n\t</form>\n);\nconst Notification = ({ message }) => {\n\tconst notification = {\n\t\tcolor: \"#042301\",\n\t\tfontStyle: \"bold\",\n\t\tfontSize: 26,\n\t\tbackgroundColor: \"#88fa7e\",\n\t\tborderRadius: 5,\n\t\tpadding: 5,\n\t\tmargin: 5,\n\t\tmarginLeft: 0,\n\t};\n\tconst warning = { ...notification, backgroundColor: \"#ff0036\" };\n\tif (message === null) {\n\t\treturn null;\n\t}\n\tif (message.includes(\"already\") || message.includes(\"failed\"))\n\t\treturn <div style={warning}>{message}</div>;\n\telse return <div style={notification}>{message}</div>;\n};\nconst App = () => {\n\tconst [persons, setPersons] = useState([]);\n\tconst [newName, setNewName] = useState(\"\");\n\tconst [newNum, setNewNum] = useState(\"\");\n\tconst [searchQuerry, setSearchQuerry] = useState(\"\");\n\tconst [message, setMessage] = useState(null);\n\n\tuseEffect(() => {\n\t\tbackEndServices.getAll().then((p) => {\n\t\t\tsetPersons(p);\n\t\t});\n\t}, []);\n\n\tconst handleNameChange = (event) => {\n\t\tsetNewName(event.target.value);\n\t};\n\tconst handleNumChange = (event) => {\n\t\tsetNewNum(event.target.value);\n\t};\n\tconst handlesearchQuerry = (event) => {\n\t\tsetSearchQuerry(event.target.value);\n\t};\n\n\tconst addPerson = (event) => {\n\t\tevent.preventDefault();\n\t\tconst foundTarget = persons.find((p) => p.name === newName);\n\t\tif (!foundTarget) {\n\t\t\tconst newPerson = {\n\t\t\t\tname: newName,\n\t\t\t\tnumber: newNum,\n\t\t\t};\n\t\t\tbackEndServices\n\t\t\t\t.create(newPerson)\n\t\t\t\t.then((p) => {\n\t\t\t\t\tsetPersons(persons.concat(p));\n\t\t\t\t\tsetMessage(`Added ${p.name}`);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetMessage(null);\n\t\t\t\t\t}, 4000);\n\t\t\t\t})\n\t\t\t\t.catch((error) => {setMessage(error.response.data);});\n\t\t} else {\n\t\t\tif (foundTarget.number === newNum)\n\t\t\t\twindow.alert(`${newName} is already added to phonebook`);\n\t\t\telse {\n\t\t\t\tconst newPerson = {\n\t\t\t\t\tname: newName,\n\t\t\t\t\tnumber: newNum,\n\t\t\t\t};\n\t\t\t\tif (\n\t\t\t\t\twindow.confirm(\n\t\t\t\t\t\t`${newPerson.name} is already added to phonebook, replace the old number with a new one?`\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tbackEndServices\n\t\t\t\t\t\t.update(foundTarget.id, newPerson)\n\t\t\t\t\t\t.then((r) =>\n\t\t\t\t\t\t\tsetPersons(\n\t\t\t\t\t\t\t\tpersons.map((p) => {\n\t\t\t\t\t\t\t\t\tconsole.log(newPerson.name);\n\t\t\t\t\t\t\t\t\tsetMessage(\n\t\t\t\t\t\t\t\t\t\t`Phone number for ${newPerson.name} updated complete`\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\t\tsetMessage(null);\n\t\t\t\t\t\t\t\t\t}, 4000);\n\t\t\t\t\t\t\t\t\treturn p.id === foundTarget.id ? r : p;\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\t\tlet message = \"some error happended\";\n\t\t\t\t\t\t\tif (error) {\n\t\t\t\t\t\t\t\tmessage = `${error.response.data}`\n\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t\tmessage=`Information of ${newPerson.name} has already been removed from server`\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsetMessage(message);\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tsetMessage(null);\n\t\t\t\t\t\t\t}, 8000);\n\t\t\t\t\t\t\tsetPersons(\n\t\t\t\t\t\t\t\tpersons.filter((person) => person.name !== newPerson.name)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tsetNewName(\"\");\n\t\tsetNewNum(\"\");\n\t};\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification message={message} />\n\t\t\t<Filter\n\t\t\t\tsetSearchQuerry={searchQuerry}\n\t\t\t\thandlesearchQuerry={handlesearchQuerry}\n\t\t\t/>\n\t\t\t<h2>add a new</h2>\n\t\t\t<PersonForm\n\t\t\t\tnewName={newName}\n\t\t\t\thandleNameChange={handleNameChange}\n\t\t\t\tnewNum={newNum}\n\t\t\t\thandleNumChange={handleNumChange}\n\t\t\t\taddPerson={addPerson}\n\t\t\t/>\n\t\t\t<h3>Numbers</h3>\n\t\t\t<Persons\n\t\t\t\tpersons={persons}\n\t\t\t\tsearchQuerry={searchQuerry}\n\t\t\t\tsetPersons={setPersons}\n\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}